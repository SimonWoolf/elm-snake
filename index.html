<!DOCTYPE HTML>
<html>
<head>
  <meta charset="UTF-8">
  <title>Snake</title>
  <script src="https://cdn.ably.io/lib/ably.min-1.js"></script>
  <script type="text/javascript" src="main.js"></script>
</head>
<body>
<script type="text/javascript">
var app = Elm.Main.fullscreen();
var realtime = Ably.Realtime({
  key: "TgylBg.umYgYA:yPTJV-tIb8j3fY7D"
});
var channel = realtime.channels.get("snake-game-1");
/*
   Send messages as: app.ports.rawInput.send(message)
   valid messages: "StartStop", "Up", "Down", "Left", "Right"
 */
app.ports.sendEvent.subscribe(function(event) {
  console.log(event)
  channel.publish(event.action, event);
});

//channel.subscribe(function(msg) {
  //app.ports.
//});
</script>
</body>
</html>
